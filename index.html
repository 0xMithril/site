<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="A front-end template that helps you build fast, modern mobile web apps.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="icon" type="image/png" href="icons/mithril-small.png">

    <title>0xMithril</title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.blue_grey-cyan.min.css" />

    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/rivets/0.9.6/rivets.bundled.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

    <style>
      .logo {
        position: absolute;
        right: 18%;
        top: 0px;
        z-index: 999;
      }
      .mdl-layout-title {
        padding-left: 15%;
      }
      .mdl-data-table {
          table-layout:fixed;
          width:100%; 
      }
      .mdl-dialog {
        width: 500px;
      }
      #my-table td, th {
        width: 100%;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        -o-text-overflow: ellipsis;
      }
    </style>

    <script>
      var provider = "https://ropsten.infura.io/";

      if (typeof web3 !== 'undefined') {
        web3 = new Web3(web3.currentProvider);
      } else {
        // set the provider you want from Web3.providers
        web3 = new Web3(new Web3.providers.HttpProvider("https://ropsten.infura.io/"));
      }

      web3.eth.defaultAccount = web3.eth.accounts[0];

      //var mithrilContract = web3.eth.contract("YOUR ABI");

      //var mithril = mithrilContract.at('PASTE CONTRACT ADDRESS HERE');

      //console.log(mithril);

      $(document).ready(function() {

        // RivetsJS
        rivets.bind(document.body, {
            tokens: [{ name: "0xMithril", supply: "20M", diff: 123123 }]
        });

        // MDL
        var dialog = document.querySelector('dialog');
        var dialogButton = document.querySelector('#show-dialog');
        
        if (! dialog.showModal) {
          dialogPolyfill.registerDialog(dialog);
        }

        dialogButton.addEventListener('click', function() {
          dialog.showModal();
          dialog.addEventListener('click', function (event) {
              var rect = dialog.getBoundingClientRect();
              var isInDialog=(rect.top <= event.clientY && event.clientY <= rect.top + rect.height
                && rect.left <= event.clientX && event.clientX <= rect.left + rect.width);
              if (!isInDialog) {
                  dialog.close();
              }
          });
        });
        
        dialog.querySelector('button:not([disabled])').addEventListener('click', function() {
          dialog.close();
        });

        dialog.querySelector('.close').addEventListener('click', function() {
          dialog.close();
        });

      });

    </script>
  </head>
  <body>
      
    <dialog class="mdl-dialog">
      <div class="mdl-dialog__content">
        <p>
          Fill out the following fields to create your own mineable token.
        </p>
        <!-- Textfield with Floating Label -->

        <form action="#">
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" id="tokenAddress">
            <label class="mdl-textfield__label" for="tokenAddress">Token Address</label>
          </div>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" id="tokenDescription">
            <label class="mdl-textfield__label" for="tokenDescription">Description</label>
          </div>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" id="Decimal">
            <label class="mdl-textfield__label" for="Decimal">Decimal</label>
            <span class="mdl-textfield__error">Input is not a number!</span>
          </div>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" id="initReward">
            <label class="mdl-textfield__label" for="initReward">Initial Reward</label>
            <span class="mdl-textfield__error">Input is not a number!</span>
          </div>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" id="diffAdjustment">
            <label class="mdl-textfield__label" for="diffAdjustment">Blocks per Difficulty Adjustment</label>
            <span class="mdl-textfield__error">Input is not a number!</span>
          </div>
        </form>
      </div>
      <div class="mdl-dialog__actions">
        <button type="button" class="mdl-button">Submit</button>
        <button type="button" class="mdl-button close">Cancel</button>
      </div>
    </dialog>

    <img class="logo" src="icons/mithril-small.png" />
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      <header class="mdl-layout__header">
        <div class="mdl-layout__header-row">
          <!-- Title -->
          <span class="mdl-layout-title">0xMithril</span>
          <!-- Add spacer, to align navigation to the right -->
          <div class="mdl-layout-spacer"></div>
          <!-- Navigation. We hide it in small screens.
          <nav class="mdl-navigation">
            <a class="mdl-navigation__link" href="">Tokens</a>
            <a class="mdl-navigation__link" href=""></a>
          </nav>-->
        </div>
      </header>

      <!-- Main Conent -->
      <main class="mdl-layout__content">
        <div class="page-content">
          <div class="mdl-grid">
              <div class="mdl-layout-spacer"></div>
              <div class="mdl-cell mdl-cell--8-col">

                <div class="mdl-grid">
                  <div class="mdl-cell">
                    <!-- Cards -->
                    <div class="demo-card-wide mdl-card mdl-shadow--2dp">
                      <div class="mdl-card__title">
                        <h2 class="mdl-card__title-text">Create Your Own Mineable Token</h2>
                      </div>
                      <div class="mdl-card__supporting-text">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                        Mauris sagittis pellentesque lacus eleifend lacinia...
                      </div>
                      <div class="mdl-card__actions mdl-card--border">
                        <button id="show-dialog" type="button" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect show-modal">Get Started</button>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="mdl-grid">
                  <div class="mdl-cell mdl-cell--12-col">
                    <!-- Tokens Table -->
                    <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp fullwidth">
                      <thead>
                        <tr>
                          <th class="mdl-data-table__cell--non-numeric fullwidth">Tokens</th>
                          <th>Supply</th>
                          <th>Difficulty</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr rv-each-token="tokens">
                          <td class="mdl-data-table__cell--non-numeric">{ token.name }</td>
                          <td>{ token.supply }</td>
                          <td>{ token.diff }</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                
              </div>
              <div class="mdl-layout-spacer"></div>
          </div>
        </div>
      </main>

      <!-- Footer -->
      <footer class="mdl-mini-footer">
          <div class="mdl-mini-footer__left-section">
            <div class="mdl-logo">0xMithril</div>
            <ul class="mdl-mini-footer__link-list">
              <li><a href="#">Help</a></li>
              <li><a href="#">Privacy & Terms</a></li>
            </ul>
          </div>
        </footer>
      </div>
  </body>
</html>
